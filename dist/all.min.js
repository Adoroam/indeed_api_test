var app=angular.module("app",["ngCookies"]);app.controller("indexCtrl",["$scope","$http","$cookies","ind",function($scope,$http,$cookies,ind){if($scope.xml="",$cookies.get("request")){var rcookie=$cookies.get("request").slice(2);rcookie=JSON.parse(rcookie),$scope.formdata={jTitle:rcookie.jTitle,jLocation:Number(rcookie.jLocation),startNo:Number(rcookie.startNo)}}else $scope.formdata={jTitle:"java",jLocation:78726,startNo:1};$scope.controls20=function(direction){"next"==direction?$scope.formdata.startNo=$scope.formdata.startNo+20:$scope.formdata.startNo=$scope.formdata.startNo-20},$cookies.get("request")&&ind.get().then(function(d){d.data?$scope.xml=d.data:console.log("nodata")})}]),app.factory("ind",function($http){var jsondata={get:function(){if(!promise){var promise=$http.get("/data").success(function(response){return response});return promise}}};return jsondata});